make sure that DNS is configured and that the machines can resolve each other using the names minio1, minio2, and minio3
getent hosts <hostname>
ping <hostname>
on all nodes: 
192.168.122.11 minio1.smartek.ae
192.168.122.13 minio3.smartek.ae
192.168.122.12 minio2.smartek.ae
192.168.122.55 bastion.smartek.ae console.smartek.ae



on all nodes open these ports:
sudo firewall-cmd --add-port=9000/tcp --permanent
sudo firewall-cmd --add-port=9001/tcp --permanent
sudo firewall-cmd --reload


mkfs.xfs /dev/sda
mkfs.xfs /dev/sdb

mkdir -p /mnt/disk1 /mnt/disk2
mount /dev/sda /mnt/disk1
mount /dev/sdb /mnt/disk2

lsblk -f (get UUID)

UUID=8e8265ac-db63-449b-b6ea-24b8c490d147 /mnt/disk1 xfs defaults,noatime 0 0
UUID=3542a55a-fc60-46f0-a5a3-2a44bf538dbc /mnt/disk2 xfs defaults,noatime 0 0 

mount -a 
df -h | grep /mnt

curl --progress-bar -L dl.min.io/aistor/minio/release/linux-amd64/minio.rpm -o minio.rpm
sudo dnf install minio.rpm
minio --version
sudo systemctl status minio

groupadd -r minio-user
useradd -M -r -g minio-user minio-user

chown -R minio-user:minio-user /mnt/drives-{1...16}

#certgen -host "localhost,minio-*.example.net"

openssl genrsa -out ca.key 4096

openssl req -x509 -new -nodes -key ca.key \
  -sha256 -days 3650 \
  -subj "/C=AE/O=Smartek/OU=IT/CN=Smartek-CA" \
  -out ca.crt

openssl genrsa -out private.key 2048

cat > minio.cnf <<EOF
[ req ]
default_bits = 2048
prompt = no
default_md = sha256
req_extensions = req_ext
distinguished_name = dn

[ dn ]
C=AE
O=Smartek
CN=minio.smartek.ae

[ req_ext ]
subjectAltName = @alt_names

[ alt_names ]
DNS.1 = minio.smartek.ae
DNS.2 = minio
IP.1  = 192.168.1.10
EOF

openssl req -new -key private.key -out minio.csr -config minio.cnf
openssl x509 -req -in minio.csr \
  -CA ca.crt -CAkey ca.key -CAcreateserial \
  -out public.crt -days 825 -sha256 \
  -extensions req_ext -extfile minio.cnf


sudo mkdir -p /opt/minio/certs
cp private.key /opt/minio/certs
cp public.crt /opt/minio/certs
cp ca.crt /opt/minio/certs/CAs

sudo chown -R minio-user:minio-user /opt/minio/certs
(make sure that all the files are owned by minio-user and have the right permissions)

cp private.key /opt/minio/certs
cp public.crt /opt/minio/certs
cp ca.crt /opt/minio/certs/CAs

get license from:
https://subnet.min.io/?jmp=docs&_gl=1*8lhgan*_gcl_au*MjEyODkyMzczOC4xNzcwNzE0MDkxLjcxNTQ3NjkyNS4xNzcwNzQ2NzY5LjE3NzA3NDY3ODA.*_ga*OTU0OTczOTMzLjE3NzA3MTMxOTk.*_ga_SY0M3KFH50*czE3NzA3OTcwMTckbzIkZzEkdDE3NzA3OTgyMjMkajYwJGwwJGgxNTgxOTg3OTky
copy the license file to /opt/minio/minio.license

vim /etc/default/minio
## Volume to be used for MinIO server.
##
#MINIO_VOLUMES="/mnt/disk1/minio  /mnt/disk2/minio" # start locally then comment this line and uncomment 
#the following line to start in distributed mode and start the minio service again
MINIO_VOLUMES="https://minio{1...3}.smartek.ae:9000/mnt/disk{1...2}/minio"
## Use if you want to run MinIO on a custom port.
## add --address and --console-address to MINIO_OPTS:
# MINIO_OPTS="--address :9000 --console-address :9001 [OTHER_PARAMS]"
#
MINIO_OPTS="--address :9000 --console-address :9001 --certs-dir  /opt/minio/certs/"

## Point to the main configuration file
#MINIO_CONFIG_ENV_FILE=/etc/minio/config.env
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minio123
MINIO_LICENSE="/opt/minio/minio.license"


sudo systemctl start minio

https://minio1.example.com:9001

(I worked first on one machine then I cloned the machine to have in total 3 machines))

